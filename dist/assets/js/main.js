function lockBody(){document.querySelector("body")?.classList.contains("lock")||document.querySelector("body")?.classList.add("lock")}function unlockBody(){document.querySelector("body")?.classList.contains("lock")&&document.querySelector("body")?.classList.remove("lock")}let bodyIsLock=!1,mapObj=!1,burger=document.querySelector(".header__burger"),headerMenu=document.querySelector(".header__menu");function formatNumber(e){return String(e).replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g," ")}function updateCounter(e,t,i){parseInt(e.innerText)+i>t?e.innerText=formatNumber(t):setTimeout(()=>{e.innerText=parseInt(e.innerText)+i,updateCounter(e,t,i)},1)}function counterAnimate(e,t,i,s){e.innerText=t,updateCounter(e,i,increment=Math.trunc((i-t)/s))}burger&&headerMenu&&!window.matchMedia("(min-width: 1024px)").matches&&burger.addEventListener("click",()=>{(headerMenu.classList.contains("active")?unlockBody:lockBody)(),headerMenu.classList.toggle("active")});let observer=new IntersectionObserver(e=>{let t=0,i=0;e.forEach(e=>{e.target.getAttribute("data-min-width")&&(i=e.target.getAttribute("data-min-width")),e.isIntersecting&&window.innerWidth>i&&(e.target.classList.contains("counter")&&(stop=parseInt(e.target.innerText.replaceAll(" ","")),counterAnimate(e.target,0,stop,250)),e.target.classList.contains("animation-group")?(t+=100,e.target.getAttribute("data-delay")&&(t=t+100+parseInt(e.target.getAttribute("data-delay")))):e.target.closest("animation-group")?.classList.contains("animated")&&(t=0,e.target.getAttribute("data-delay"))&&(t=parseInt(e.target.getAttribute("data-delay"))),e.target.getAttribute("data-delay")?setTimeout(()=>{e.target.classList.add("animated")},parseInt(e.target.getAttribute("data-delay"))):setTimeout(()=>{e.target.classList.add("animated")},t),observer.unobserve(e.target))})},{threshold:.1,rootMargin:"0px"}),animatedItems=document.querySelectorAll(".to_animate");0<animatedItems.length&&animatedItems.forEach(e=>{observer.observe(e)}),(schedule=document.querySelector(".clinic-intro__schedule-wrapper"))&&schedule.addEventListener("click",()=>{schedule.classList.toggle("active")}),advantagesSwiper=new Swiper(document.querySelector(".target__swiper"),{direction:"horizontal",slidesPerView:1.1,grabCursor:!0,spaceBetween:10,breakpoints:{510:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:30}}}),clinicsSwiper=new Swiper(document.querySelector(".best-clinics__swiper"),{direction:"horizontal",slidesPerView:1.1,grabCursor:!0,spaceBetween:10,navigation:{nextEl:document.querySelector(".best-clinics__button_next"),prevEl:document.querySelector(".best-clinics__button_back")},pagination:{el:".best-clinics__pagination"},breakpoints:{510:{slidesPerView:2.2,spaceBetween:20},1024:{slidesPerView:3.2,spaceBetween:30}}});class CastomSlider{constructor(e,t,i,s,n){this.slidesOnPage=i,this.pagination=t,this.status=!0,this.slidesOnPage=i,this.page=1,this.slides=e.querySelectorAll(".swiper-slide"),this.lastPage=Math.ceil(this.slides.length/i);let a=1;this.slides.forEach(e=>{a>this.slidesOnPage&&(e.style.display="none"),a++}),this.nextPage=this.nextPage.bind(this),s.addEventListener("click",this.nextPage),this.prevPage=this.prevPage.bind(this),n.addEventListener("click",this.prevPage),this.renderPagination()}off(){this.status&&(this.slides.forEach(e=>{e.removeAttribute("style")}),this.status=!1)}on(){if(!this.status){let t=this.page=1;this.slides.forEach(e=>{t>this.slidesOnPage&&(e.style.display="none"),t++})}this.renderPagination(),this.status=!0}nextPage(){if(this.status&&this.page!=this.lastPage){let t=this.page*this.slidesOnPage,i=(this.page=this.page+1,this.page*this.slidesOnPage),s=1;this.slides.forEach(e=>{s>t&&s<=i?setTimeout(()=>{e.removeAttribute("style")},510):(e.classList.remove("animated"),setTimeout(()=>{e.style.display="none",observer.observe(e)},500)),s++}),this.renderPagination()}}prevPage(){if(this.status&&1<this.page){this.page=this.page-1;let t=this.page*this.slidesOnPage,i=(this.page-1)*this.slidesOnPage,s=1;this.slides.forEach(e=>{s>i&&s<=t?setTimeout(()=>{e.removeAttribute("style")},510):(e.classList.remove("animated"),setTimeout(()=>{e.style.display="none",observer.observe(e)},500)),s++}),this.renderPagination()}}renderPagination(){this.pagination.innerHTML="";for(let e=1;e<=this.lastPage;e++){var t=document.createElement("span");t.classList.add("swiper-pagination-bullet"),e==this.page&&t.classList.add("swiper-pagination-bullet-active"),this.pagination.append(t)}}}function toggleClassOnScroll(i,s){let n=i.parentElement;let a=!1,r=!1;function e(){var e=i.getBoundingClientRect(),t=n.getBoundingClientRect();e.top<=t.top&&a&&(i.classList.remove("top-fixed"),a=!1),e.top<=s&&!a&&!r&&(i.classList.add("top-fixed"),a=!0),e.bottom>t.bottom&&(i.classList.remove("top-fixed"),i.classList.add("bottom-fixed"),a=!1,r=!0),r&&e.top>s+1&&(i.classList.remove("bottom-fixed"),r=!1)}window.addEventListener("scroll",e),e()}(smiSwiperCheck=document.querySelector(".smi__swiper"))&&(smiCastom=new CastomSlider(smiSwiperCheck,document.querySelector(".smi__pagination_castom"),3,document.querySelector(".smi__button-next"),document.querySelector(".smi__button-back")),smiSwiper=!1,["resize","load"].forEach(e=>{window.addEventListener(e,function(){window.innerWidth<1024&&!smiSwiper&&(smiCastom.status&&smiCastom.off(),smiSwiper=new Swiper(document.querySelector(".smi__swiper"),{direction:"horizontal",slidesPerView:1,grabCursor:!0,spaceBetween:20,pagination:{el:".smi__pagination"},breakpoints:{710:{slidesPerView:2,spaceBetween:20}}})),1024<=window.innerWidth&&(smiSwiper&&(smiSwiper.destroy(!0,!0),smiSwiper=!1,smiSwiperCheck.classList.remove("swiper-backface-hidden")),smiCastom.status||smiCastom.on())})})),articlesSwiper=new Swiper(document.querySelector(".articles__swiper"),{direction:"horizontal",slidesPerView:1.3,grabCursor:!0,spaceBetween:10,navigation:{nextEl:document.querySelector(".articles__button_next"),prevEl:document.querySelector(".articles__button_back")},pagination:{el:".articles__pagination"},breakpoints:{650:{slidesPerView:2.3,spaceBetween:20},1024:{slidesPerView:3.2,spaceBetween:30}}}),aboutPrincSlider=new Swiper(document.querySelector(".about-princ__swiper"),{direction:"horizontal",slidesPerView:1.1,grabCursor:!0,spaceBetween:10,navigation:{nextEl:document.querySelector(".about-princ__button_next"),prevEl:document.querySelector(".about-princ__button_back")},pagination:{el:".about-princ__pagination"},breakpoints:{650:{slidesPerView:2.3,spaceBetween:20},1024:{slidesPerView:1,spaceBetween:20},1250:{slidesPerView:1.4,spaceBetween:20}}}),aboutDigistSwiper=new Swiper(document.querySelector(".about-digits__swiper"),{direction:"horizontal",initialSlide:1,slidesPerView:1.1,grabCursor:!0,centeredSlides:!0,spaceBetween:10,pagination:{el:".about-digits__pagination"},breakpoints:{1024:{direction:"horizontal",slidesPerView:1.8,spaceBetween:25},1420:{slidesPerView:2.4,direction:"vertical",spaceBetween:25}}}),ctabsTabSwiper=new Swiper(document.querySelector(".ctabs__mini"),{spaceBetween:0,slidesPerView:"auto",freeMode:!0}),ctabsContentSwiper=new Swiper(document.querySelector(".ctabs__content"),{spaceBetween:5,thumbs:{swiper:ctabsTabSwiper,autoHeight:!0},allowTouchMove:!1,autoHeight:!0}),cLicense=new Swiper(document.querySelector(".c-license__col_license.swiper"),{spaceBetween:15,slidesPerView:1.1,navigation:{nextEl:document.querySelector(".c-license__button_next"),prevEl:document.querySelector(".c-license__button_back")},pagination:{el:".c-license__pagination"},breakpoints:{1024:{slidesPerView:2,spaceBetween:25}}});let fixedCol=document.querySelector(".fixed-col"),map=(fixedCol&&toggleClassOnScroll(fixedCol,120),document.addEventListener("DOMContentLoaded",function(){function t(e){e.classList.remove("open"),setTimeout(()=>{e.classList.contains("open")||e.classList.remove("active")},400),mapObj&&(mapObj.destroy(),mapObj=!1),unlockBody()}var e=document.querySelectorAll(".popup-btn"),i=document.querySelectorAll(".popup");document.querySelectorAll(".close-popup").forEach(function(e){e.addEventListener("click",function(e){t(e.target.closest(".popup"))})}),0<i.length&&i.forEach(function(e){t(e),e.addEventListener("click",function(e){e.target.closest(".popup__content")||t(e.target.closest(".popup"))})}),e.forEach(function(n){let a;n.addEventListener("click",function(e){e.preventDefault();var t,i=e.currentTarget.dataset.path;"popup-map"==i&&(a=(a=e.currentTarget.dataset.coords).split(","));let s=document.querySelector(`[data-target="${i}"]`);s&&(s.classList.add("active"),setTimeout(()=>{s.classList.add("open")},10),"popup-change"==s.getAttribute("data-target")&&(e=n.closest(".change-item"),i=s.querySelector(".original-title"),t=e.querySelector(".change-title"),e=e.querySelector(".change-subtitle"),t=t&&e?t.innerHTML+" "+e.innerHTML:(t||e).innerHTML,n.classList.contains("change-doctor")&&(t="Записаться на приём к врачу: "+t),i.innerHTML=t),"popup-map"==s.getAttribute("data-target")&&loadMap(a),lockBody())})})}),document.querySelectorAll("#map"));function loadMap(e){var t;document.querySelector('[src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"]')?initMap(e):((t=document.createElement("script")).type="text/javascript",t.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",t.onload=function(){initMap(e)},document.head.appendChild(t))}function initMap(i){ymaps.ready(function(){var e=new ymaps.Map("map",{center:i,zoom:16,controls:[]}),t=new ymaps.Placemark(i,{hintContent:"",balloonContent:""});e.geoObjects.add(t),e.behaviors.disable(["scrollZoom"]),mapObj=e})}testPic=new Swiper(document.querySelector(".test__swiper-pics.swiper"),{spaceBetween:3,slidesPerView:1,allowTouchMove:!1,simulateTouch:!1,navigation:{nextEl:".test__button_next",prevEl:".test__button_prev"},pagination:{el:".test__progress",type:"progressbar"},on:{slideChange:function(){5==this.activeIndex?(document.querySelector(".test__button_next").style.display="none",document.querySelector(".test__button_submit").style.display="block"):(document.querySelector(".test__button_submit").removeAttribute("style"),document.querySelector(".test__button_next").removeAttribute("style"))}}}),testСontent=new Swiper(document.querySelector(".test__swiper.swiper"),{spaceBetween:3,slidesPerView:1,allowTouchMove:!1,simulateTouch:!1,navigation:{nextEl:".test__button_next",prevEl:".test__button_prev"}});let cityInput=document.querySelector(".city-input"),cityList=document.querySelector(".city-input__options");function initList(t,e){(listElements=e.querySelectorAll("li")).forEach(e=>{-1==e.innerHTML.indexOf(t)?e.style.display="none":e.removeAttribute("style")}),cityList.classList.add("active")}cityInput&&cityList&&(cityList.querySelectorAll("li").forEach(e=>{e.addEventListener("click",()=>{cityInput.value=e.innerHTML,cityList.classList.remove("active")})}),cityInput.addEventListener("focus",()=>{initList(cityInput.value,cityList)}),cityInput.addEventListener("input",()=>{initList(cityInput.value,cityList)}),cityInput.addEventListener("blur",()=>{setTimeout(()=>{cityList.classList.remove("active")},100)}));
//# sourceMappingURL=main.js.map
